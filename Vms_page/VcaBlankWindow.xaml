<Window x:Class="Vms_page.VcaBlankWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="VCA" Height="700" Width="1200"
        Background="{DynamicResource BackgroundColor}"
        WindowStartupLocation="CenterScreen"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize"
        FontFamily="Segoe UI">

	<Window.Resources>
		<!-- Nav button style aligned with app theme -->
		<Style x:Key="NavButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSecondaryColor}"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="16,10"/>
			<Setter Property="Margin" Value="0,0,12,0"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Grid>
							<Border x:Name="BtnBg"
										Background="{TemplateBinding Background}"
										CornerRadius="8"/>
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
							<Border x:Name="ActiveBar"
										Background="{DynamicResource PrimaryColor}"
										Height="3"
										VerticalAlignment="Bottom"
										CornerRadius="2"
										Margin="4,0,4,0"
										Visibility="Collapsed"/>
						</Grid>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="BtnBg" Property="Background" Value="{DynamicResource SurfaceColor}"/>
								<Setter Property="Foreground" Value="{DynamicResource TextPrimaryColor}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="BtnBg" Property="Background" Value="{DynamicResource PrimaryColor}"/>
								<Setter Property="Foreground" Value="White"/>
							</Trigger>
							<DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Active">
								<Setter TargetName="ActiveBar" Property="Visibility" Value="Visible"/>
								<Setter Property="Foreground" Value="{DynamicResource PrimaryColor}"/>
								<Setter TargetName="BtnBg" Property="Background" Value="{DynamicResource SurfaceColor}"/>
								<Setter Property="FontWeight" Value="SemiBold"/>
							</DataTrigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Face Recognition-like top navbar style -->
		<Style x:Key="FRTopNavButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSecondaryColor}"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="10,4"/>
			<Setter Property="Margin" Value="0,0,6,0"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="BtnBg" Background="{TemplateBinding Background}" CornerRadius="4" Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="BtnBg" Property="Background" Value="#2563EB"/>
								<Setter Property="Foreground" Value="White"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="BtnBg" Property="Background" Value="#1D4ED8"/>
								<Setter Property="Foreground" Value="White"/>
							</Trigger>
							<DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Active">
								<Setter TargetName="BtnBg" Property="Background" Value="#2563EB"/>
								<Setter Property="Foreground" Value="White"/>
								<Setter Property="FontWeight" Value="SemiBold"/>
							</DataTrigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Alternative: Pill/segmented navbar button template -->
		<Style x:Key="PillNavButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSecondaryColor}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="12,8"/>
			<Setter Property="Margin" Value="0,0,10,0"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Grid>
							<Border x:Name="BtnBg"
										Background="{TemplateBinding Background}"
										BorderBrush="{TemplateBinding BorderBrush}"
										BorderThickness="{TemplateBinding BorderThickness}"
										CornerRadius="18"/>
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Grid>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="BtnBg" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
								<Setter Property="Foreground" Value="{DynamicResource TextPrimaryColor}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="BtnBg" Property="Background" Value="{DynamicResource PrimaryColor}"/>
								<Setter Property="Foreground" Value="White"/>
							</Trigger>
							<DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Active">
								<Setter TargetName="BtnBg" Property="Background" Value="{DynamicResource PrimaryColor}"/>
								<Setter TargetName="BtnBg" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
								<Setter Property="Foreground" Value="White"/>
								<Setter Property="FontWeight" Value="SemiBold"/>
							</DataTrigger>

						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Grid Layout Button Style (from View Info popup) -->
		<Style x:Key="GridLayoutButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{DynamicResource TextPrimaryColor}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
			<Setter Property="Padding" Value="4"/>
			<Setter Property="FontSize" Value="10"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Width" Value="32"/>
			<Setter Property="Height" Value="24"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{TemplateBinding BorderThickness}"
								CornerRadius="2">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="{DynamicResource MenuHoverColor}"/>
								<Setter Property="BorderBrush" Value="{DynamicResource WarningColor}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter Property="Background" Value="{DynamicResource WarningColor}"/>
								<Setter Property="BorderBrush" Value="{DynamicResource WarningColor}"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Filter combobox/button styles for left sidebar -->
		<Style x:Key="FilterCombo" TargetType="ComboBox">
			<Setter Property="Background" Value="{DynamicResource SurfaceColor}"/>
			<Setter Property="Foreground" Value="{DynamicResource TextPrimaryColor}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="8,4"/>
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="Height" Value="28"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ComboBox">
						<Border x:Name="Pill" Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{TemplateBinding BorderThickness}"
								CornerRadius="14">
							<Grid>
								<ToggleButton x:Name="ToggleButton" Grid.Column="2" Focusable="False"
										IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
										ClickMode="Press" Background="Transparent" BorderThickness="0">
									<Grid Width="22" Height="22" HorizontalAlignment="Right" Margin="4" VerticalAlignment="Center">
										<Ellipse Fill="{DynamicResource SurfaceColor}" Stroke="{TemplateBinding BorderBrush}" StrokeThickness="1"/>
										<Path Data="M 0 0 L 4 4 L 8 0 Z" Fill="{TemplateBinding Foreground}" Stretch="Uniform" Width="8" Height="4" HorizontalAlignment="Center" VerticalAlignment="Center"/>
									</Grid>
								</ToggleButton>
								<ContentPresenter x:Name="ContentSite" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="10,0,28,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
								<Popup x:Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
									<Border Background="#232323" BorderBrush="#555555" BorderThickness="1" CornerRadius="8">
										<ScrollViewer Margin="4,6,4,6">
											<StackPanel IsItemsHost="True"/>
										</ScrollViewer>
									</Border>
								</Popup>
							</Grid>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="Pill" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
								<Setter TargetName="Pill" Property="Background" Value="{DynamicResource SurfaceColor}"/>
							</Trigger>
							<Trigger Property="IsKeyboardFocusWithin" Value="True">
								<Setter TargetName="Pill" Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
								<Setter TargetName="Pill" Property="Background" Value="{DynamicResource SurfaceColor}"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Sidebar small label style -->
		<Style x:Key="SidebarLabel" TargetType="TextBlock">
			<Setter Property="Foreground" Value="{DynamicResource TextSecondaryColor}"/>
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="Margin" Value="0,0,0,6"/>
		</Style>

		<Style x:Key="FilterIconButton" TargetType="Button">
			<Setter Property="Background" Value="#2A2A2A"/>
			<Setter Property="Foreground" Value="#E2E8F0"/>
			<Setter Property="BorderBrush" Value="#555555"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Width" Value="28"/>
			<Setter Property="Height" Value="28"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="14">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="#3A3A3A"/>
								<Setter Property="BorderBrush" Value="#777777"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

    <DockPanel LastChildFill="True">
		<!-- Top navbar -->
        <Border x:Name="TopNavBar" DockPanel.Dock="Top"
				Height="40"
				Background="{DynamicResource TopBarColor}"
				BorderBrush="{DynamicResource BorderColor}"
				BorderThickness="0,0,0,1">
			<StackPanel Orientation="Horizontal"
						HorizontalAlignment="Left"
						VerticalAlignment="Center"
						Margin="12,0">
				<Button x:Name="RealtimeMonitoringBtn"
							Content="Realtime Monitoring"
							Style="{StaticResource FRTopNavButtonStyle}"
							Tag="Active"
							Click="NavigationButton_Click"/>
				<Button x:Name="BehaviourSearchBtn"
							Content="Behaviour Search"
							Style="{StaticResource FRTopNavButtonStyle}"
							Click="NavigationButton_Click"/>
				<Button x:Name="HeatMapBtn"
							Content="Heat Map"
							Style="{StaticResource FRTopNavButtonStyle}"
							Click="NavigationButton_Click"/>
			</StackPanel>
		</Border>

		<!-- Content area -->
        <Grid Background="{DynamicResource BackgroundColor}">
            <Grid x:Name="RealtimeMonitoringView" Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="RM_SidebarColumn" Width="170"/>
                    <ColumnDefinition x:Name="RM_MainColumn" Width="*"/>
                </Grid.ColumnDefinitions>

				<!-- Left Sidebar -->
                <Border x:Name="RM_Sidebar" Grid.Column="0"
						Background="{DynamicResource SidebarColor}"
						BorderBrush="{DynamicResource BorderColor}"
						BorderThickness="0,0,1,0">
					<StackPanel Margin="14">
						<TextBlock Text="Channel"
								   FontSize="12"
								   Foreground="{DynamicResource TextPrimaryColor}"
								   Margin="0,0,0,6"/>
						<Border Background="{DynamicResource SurfaceColor}"
								BorderBrush="{DynamicResource BorderColor}"
								BorderThickness="1"
								CornerRadius="6">
								<Border.Style>
									<Style TargetType="Border">
										<Style.Triggers>
											<Trigger Property="IsKeyboardFocusWithin" Value="True">
												<Setter Property="BorderBrush" Value="{DynamicResource PrimaryColor}"/>
												<Setter Property="BorderThickness" Value="1.5"/>
											</Trigger>
										</Style.Triggers>
									</Style>
								</Border.Style>
								<Grid>
									<!-- Search icon -->
									<TextBlock Text="ðŸ”" FontSize="12" Foreground="{DynamicResource TextSecondaryColor}" VerticalAlignment="Center" Margin="10,0,0,0"/>
									<TextBox x:Name="ChannelSearchTextBox"
											 Background="Transparent"
											 BorderThickness="0"
											 Foreground="{DynamicResource TextPrimaryColor}"
											 CaretBrush="{DynamicResource TextPrimaryColor}"
											 SelectionBrush="{DynamicResource PrimaryColor}"
											 FontSize="14"
											 Padding="0"
											 Margin="28,6,10,6"
											 HorizontalContentAlignment="Left"
											 VerticalContentAlignment="Center"
											 TextWrapping="NoWrap"
											 AcceptsReturn="False"/>
									<TextBlock Text="Enter Keywords"
											Foreground="{DynamicResource TextSecondaryColor}"
											FontSize="13"
											Margin="28,6,10,6"
											IsHitTestVisible="False"
											VerticalAlignment="Center">
										<TextBlock.Style>
											<Style TargetType="TextBlock">
												<Setter Property="Visibility" Value="Collapsed"/>
												<Style.Triggers>
													<!-- Show placeholder only when empty and not focused -->
													<MultiDataTrigger>
														<MultiDataTrigger.Conditions>
															<Condition Binding="{Binding Text.Length, ElementName=ChannelSearchTextBox}" Value="0"/>
															<Condition Binding="{Binding IsKeyboardFocused, ElementName=ChannelSearchTextBox}" Value="False"/>
														</MultiDataTrigger.Conditions>
														<Setter Property="Visibility" Value="Visible"/>
													</MultiDataTrigger>
												</Style.Triggers>
											</Style>
										</TextBlock.Style>
									</TextBlock>
								</Grid>
							</Border>
						
						<!-- Filters below channel input -->
						<StackPanel Margin="0,22,0,0">
							<TextBlock Text="Filters" FontSize="12" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryColor}" Margin="0,0,0,8"/>
							<TextBlock Text="All Alarms" Style="{StaticResource SidebarLabel}"/>
							<ComboBox Style="{StaticResource FilterCombo}" Margin="0,0,0,12">
								<ComboBoxItem Content="All Alarms"/>
								<ComboBoxItem Content="Critical"/>
								<ComboBoxItem Content="Warning"/>
							</ComboBox>
							<TextBlock Text="All Objects" Style="{StaticResource SidebarLabel}"/>
							<ComboBox Style="{StaticResource FilterCombo}" Margin="0,0,0,14">
								<ComboBoxItem Content="All Objects"/>
								<ComboBoxItem Content="Person"/>
								<ComboBoxItem Content="Vehicle"/>
							</ComboBox>
							<StackPanel Orientation="Horizontal" Margin="0,4,0,0">
								<Button Style="{StaticResource FilterIconButton}" ToolTip="Pause">
									<TextBlock Text="â¸" FontSize="12"/>
								</Button>
								<Button Style="{StaticResource FilterIconButton}" ToolTip="Play" Margin="8,0,0,0">
									<TextBlock Text="â–¶" FontSize="12"/>
								</Button>
							</StackPanel>
						</StackPanel>
					</StackPanel>
				</Border>

				<!-- Main area: camera grid with bottom layout controls -->
                <DockPanel x:Name="RM_ContentDock" Grid.Column="1" Margin="0">
					<!-- Bottom controls -->
                    <Border x:Name="RM_BottomBar" DockPanel.Dock="Bottom" Height="36" Background="{DynamicResource TopBarColor}" BorderBrush="{DynamicResource BorderColor}" BorderThickness="0" CornerRadius="0" Margin="0">
						<StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="6,0">
							<Button Tag="1x1" Style="{StaticResource GridLayoutButtonStyle}" Click="RM_SingleView_Click" Margin="2" ToolTip="Single Camera View">
								<Image Source="/Assets/Icons/cctv.png" Width="16" Height="16" Stretch="Uniform"/>
							</Button>
							<Button Tag="2x2" Style="{StaticResource GridLayoutButtonStyle}" Click="RM_GridView_Click" Margin="2" ToolTip="4-Camera Grid View">
								<Grid>
									<Grid.RowDefinitions>
										<RowDefinition Height="*"/>
										<RowDefinition Height="*"/>
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="*"/>
										<ColumnDefinition Width="*"/>
									</Grid.ColumnDefinitions>
									<Image Source="/Assets/Icons/cctv.png" Width="6" Height="6" Grid.Row="0" Grid.Column="0" Stretch="Uniform"/>
									<Image Source="/Assets/Icons/cctv.png" Width="6" Height="6" Grid.Row="0" Grid.Column="1" Stretch="Uniform"/>
									<Image Source="/Assets/Icons/cctv.png" Width="6" Height="6" Grid.Row="1" Grid.Column="0" Stretch="Uniform"/>
									<Image Source="/Assets/Icons/cctv.png" Width="6" Height="6" Grid.Row="1" Grid.Column="1" Stretch="Uniform"/>
								</Grid>
                            </Button>
							<Button Tag="fs" Style="{StaticResource GridLayoutButtonStyle}" Click="RM_Fullscreen_Click" Margin="2" ToolTip="Fullscreen">
								<TextBlock Text="â›¶" FontSize="12"/>
							</Button>
						</StackPanel>
					</Border>

                <!-- Grid area -->
                <Border x:Name="RM_GridFrame" Background="#000000" BorderBrush="#FF9500" BorderThickness="0" Padding="0" Margin="0">
                <Grid Margin="0">
						<Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>

                    <Border x:Name="Tile00" Grid.Row="0" Grid.Column="0" Background="#1A1A1A" CornerRadius="0" Margin="0" BorderThickness="0" Cursor="Hand" MouseLeftButtonDown="CameraTile_Click">
							<Grid>
								<Image Source="/Assets/Icons/cctv.png" Width="60" Height="60" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
							</Grid>
						</Border>

                    <Border x:Name="Tile01" Grid.Row="0" Grid.Column="1" Background="#1A1A1A" CornerRadius="0" Margin="0" BorderThickness="0" Cursor="Hand" MouseLeftButtonDown="CameraTile_Click">
							<Grid>
								<Image Source="/Assets/Icons/cctv.png" Width="60" Height="60" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
							</Grid>
						</Border>

                    <Border x:Name="Tile10" Grid.Row="1" Grid.Column="0" Background="#1A1A1A" CornerRadius="0" Margin="0" BorderThickness="0" Cursor="Hand" MouseLeftButtonDown="CameraTile_Click">
							<Grid>
								<Image Source="/Assets/Icons/cctv.png" Width="60" Height="60" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
							</Grid>
						</Border>

                    <Border x:Name="Tile11" Grid.Row="1" Grid.Column="1" Background="#1A1A1A" CornerRadius="0" Margin="0" BorderThickness="0" Cursor="Hand" MouseLeftButtonDown="CameraTile_Click">
							<Grid>
								<Image Source="/Assets/Icons/cctv.png" Width="60" Height="60" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
							</Grid>
						</Border>
                </Grid>
                </Border>
				</DockPanel>
			</Grid>
			<Grid x:Name="BehaviourSearchView" Visibility="Collapsed">
				<!-- empty placeholder -->
			</Grid>
			<Grid x:Name="HeatMapView" Visibility="Collapsed">
				<!-- empty placeholder -->
			</Grid>
		</Grid>
	</DockPanel>
</Window>

