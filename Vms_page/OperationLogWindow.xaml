<Window
        x:Class="Vms_page.OperationLogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Operation Log" Height="500" Width="800"
        Background="{DynamicResource BackgroundColor}">
    <Border Padding="12" Background="{DynamicResource CardBackgroundColor}" BorderBrush="{DynamicResource BorderColor}" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

			<!-- Header Filters -->
			<Border Grid.Row="0" Background="{DynamicResource CardBackgroundColor}" BorderBrush="{DynamicResource BorderColor}" BorderThickness="0,0,0,1" Padding="12" Margin="0,0,-13,12">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<!-- Row 1 -->
					<StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,6">
						<CheckBox x:Name="UsernameCheckBox" Content="Username" Margin="0,0,8,0"/>
						<TextBox x:Name="UsernameTextBox" Width="110" Margin="0,0,8,0"/>
						<CheckBox x:Name="ObjectCheckBox" Content="Object" Margin="0,0,8,0"/>
						<ComboBox x:Name="ObjectComboBox" Width="110" Margin="0,0,8,0"/>
						<CheckBox x:Name="DeviceNameCheckBox" Content="Device Name" Margin="0,0,8,0"/>
						<TextBox x:Name="DeviceNameTextBox" Width="110"/>
					</StackPanel>

					<!-- Row 2 -->
					<StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,6">
						<CheckBox x:Name="OperationCheckBox" Content="Operation" Margin="0,0,8,0"/>
						<ComboBox x:Name="OperationComboBox" Width="110" Margin="0,0,8,0"/>
						<CheckBox x:Name="ResultCheckBox" Content="Result" Margin="0,0,8,0"/>
						<ComboBox x:Name="ResultComboBox" Width="110"/>
					</StackPanel>

					<!-- Row 3 -->
					<StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal">
						<CheckBox x:Name="DateRangeCheckBox" Content="Start and End Time" Margin="0,0,8,0"/>
						<TextBox x:Name="DateRangeTextBox" Width="240" ToolTip="Format: YYYY-MM-DD HH:MM ~ YYYY-MM-DD HH:MM"/>
					</StackPanel>

					<!-- Actions (Bottom Right) -->
					<StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
						<Button x:Name="QueryButton" Content="Query" Width="84" Height="24" Margin="0,0,8,0"/>
						<Button x:Name="ResetButton" Content="Reset" Width="84" Height="24" Style="{StaticResource OutlinedButtonStyle}"/>
					</StackPanel>
				</Grid>
			</Border>

			<!-- Content Area with actions below the filter section -->
			<Grid Grid.Row="1" Margin="0,0,-13,0">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<!-- Secondary actions toolbar -->
				<StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,8,0,8">
					<Button x:Name="DetailsButton" Content="Details" Width="84" Height="24" Margin="0,0,8,0" Style="{StaticResource OutlinedButtonStyle}"/>
					<Button x:Name="ExportButton" Content="Export" Width="84" Height="24" Style="{StaticResource OutlinedButtonStyle}"/>
				</StackPanel>
				<!-- Log table -->
				<DataGrid Grid.Row="1" x:Name="OperationLogGrid" Margin="-12,0,0,-11"
					  ItemsSource="{Binding OperationLogs, RelativeSource={RelativeSource AncestorType=Window}}"
					  IsReadOnly="True">
					<DataGrid.Columns>
						<DataGridTextColumn Header="Log Time" Binding="{Binding LogTime, StringFormat=yyyy-MM-dd HH:mm:ss}" Width="160"/>
						<DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="120"/>
						<DataGridTextColumn Header="Log Description" Binding="{Binding LogDescription}" Width="*"/>
					</DataGrid.Columns>
				</DataGrid>
			</Grid>
        </Grid>
    </Border>
</Window>

