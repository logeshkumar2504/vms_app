<Window x:Class="Vms_page.AddViewPopup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="View Info" Height="600" Width="900"
        Background="#0F1419" WindowStyle="SingleBorderWindow" ResizeMode="CanResize"
        WindowStartupLocation="CenterOwner" ShowInTaskbar="False">

    <Window.Resources>
        <!-- Modern color scheme -->
        <SolidColorBrush x:Key="PrimaryBackground" Color="#0F1419"/>
        <SolidColorBrush x:Key="SecondaryBackground" Color="#1A1F2A"/>
        <SolidColorBrush x:Key="CardBackground" Color="#1E2330"/>
        <SolidColorBrush x:Key="BorderColor" Color="#2A2F3A"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#E0E6ED"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#B0BEC5"/>
        <SolidColorBrush x:Key="AccentBlue" Color="#4A9EFF"/>
        <SolidColorBrush x:Key="AccentRed" Color="#E74C3C"/>
        <SolidColorBrush x:Key="SuccessGreen" Color="#2ECC71"/>
        <SolidColorBrush x:Key="WarningOrange" Color="#F39C12"/>

        <!-- Input Box Style -->
        <Style x:Key="InputBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#1E2330"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#3A3F4A"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#4A9EFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Button Styles -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#4A9EFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#3A8EEF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#B0BEC5"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#3A3F4A"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2A2F3A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Grid Layout Button Style -->
        <Style x:Key="GridLayoutButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#3A3F4A"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2A2F3A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#4A9EFF"/>
                                <Setter Property="BorderBrush" Value="#4A9EFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Icon Button Style -->
        <Style x:Key="IconButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#B0BEC5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2A2F3A"/>
                                <Setter Property="Foreground" Value="#E0E6ED"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Background="#0F1419">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- Main Content Area -->
        <Border Grid.Row="0" Background="#0F1419" CornerRadius="0,0,0,0" Margin="12,12,12,0">
            <Grid Margin="0,0,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Column - Grid Layout Selection -->
                <StackPanel Grid.Column="0" Margin="12,12,6,12">
                    <!-- Section Header -->
                    <TextBlock Text="Grid Layout" Foreground="White" FontSize="16" FontWeight="Bold" 
                               Margin="0,0,0,12"/>
                    
                    <!-- Grid Layout Buttons -->
                    <WrapPanel Orientation="Horizontal" Margin="0,0,0,16">
                        <Button x:Name="Grid1x1Btn" Content="1×1" Style="{StaticResource GridLayoutButtonStyle}" 
                                Margin="0,0,8,8" Padding="16,10" Click="Grid1x1Btn_Click"/>
                        <Button x:Name="Grid2x2Btn" Content="2×2" Style="{StaticResource GridLayoutButtonStyle}" 
                                Margin="0,0,8,8" Padding="16,10" Click="Grid2x2Btn_Click"/>
                        <Button x:Name="Grid3x3Btn" Content="3×3" Style="{StaticResource GridLayoutButtonStyle}" 
                                Margin="0,0,8,8" Padding="16,10" Click="Grid3x3Btn_Click"/>
                        <Button x:Name="Grid4x4Btn" Content="4×4" Style="{StaticResource GridLayoutButtonStyle}" 
                                Margin="0,0,8,8" Padding="16,10" Click="Grid4x4Btn_Click"/>
                        <Button x:Name="GridCustomBtn" Content="Custom" Style="{StaticResource GridLayoutButtonStyle}" 
                                Margin="0,0,8,8" Padding="16,10" Click="GridCustomBtn_Click"/>
                    </WrapPanel>
                    
                    <!-- Dynamic Grid Preview Area -->
                    <Border Background="#1A1F2A" Height="160" CornerRadius="0" Margin="0,0,0,12">
                        <Grid x:Name="GridPreviewContainer" Background="#1A1F2A">
                            <!-- Default preview text when no grid is selected -->
                            <TextBlock Text="Select a grid layout to preview" Foreground="#B0BEC5" FontSize="13" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.6"/>
                        </Grid>
                    </Border>
                    
                    <!-- Table Header -->
                    <Border Background="#1A1F2A" Height="32" CornerRadius="0" Margin="0,0,0,6">
                        <Grid Margin="12,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Camera Name" Foreground="White" FontSize="12" 
                                       FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="1" Text="Status" Foreground="White" FontSize="12" 
                                       FontWeight="SemiBold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            <TextBlock Grid.Column="2" Text="Actions" Foreground="White" FontSize="12" 
                                       FontWeight="SemiBold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        </Grid>
                    </Border>
                    
                    <!-- Table Content Area -->
                    <Border Background="#1A1F2A" Height="100" CornerRadius="0">
                        <TextBlock Text="No data available" Foreground="#B0BEC5" FontSize="12" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.6"/>
                    </Border>
                </StackPanel>

                <!-- Right Column - Camera Selection -->
                <StackPanel Grid.Column="1" Margin="6,12,12,12">
                    <!-- Section Header -->
                    <TextBlock Text="Camera Selection" Foreground="White" FontSize="16" FontWeight="Bold" 
                               Margin="0,0,0,12"/>
                    
                    <!-- Search Box -->
                    <TextBox x:Name="SearchBox" Style="{StaticResource InputBoxStyle}" 
                             Margin="0,0,0,12" Text="Search cameras..." Foreground="Gray"/>
                    
                    <!-- Camera List -->
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Height="200" Margin="0,0,0,12">
                        <StackPanel x:Name="CameraListContainer">
                            <!-- Camera items will be added here dynamically -->
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Add Camera Button -->
                    <Button x:Name="AddCameraBtn" Content="+ Add Camera" Style="{StaticResource ActionButtonStyle}" 
                            HorizontalAlignment="Stretch" Margin="0,0,0,12" Click="AddCameraBtn_Click"/>
                    
                    <!-- Camera Details -->
                    <Expander Header="Camera Details" IsExpanded="False" Foreground="White" 
                              FontWeight="SemiBold" Margin="0,0,0,12">
                        <StackPanel Margin="0,8,0,0">
                            <TextBox x:Name="CameraNameBox" Style="{StaticResource InputBoxStyle}" 
                                     Margin="0,0,0,8" Text="Camera Name" Foreground="Gray"/>
                            <TextBox x:Name="CameraUrlBox" Style="{StaticResource InputBoxStyle}" 
                                     Margin="0,0,0,8" Text="Camera URL" Foreground="Gray"/>
                            <ComboBox x:Name="CameraTypeCombo" Style="{StaticResource InputBoxStyle}" 
                                      Margin="0,0,0,8" Text="Camera Type" Foreground="Gray"/>
                        </StackPanel>
                    </Expander>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Bottom Action Buttons -->
        <Border Grid.Row="1" Background="#1A1F2A" CornerRadius="0,0,0,0" Margin="12,0,12,12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,12,0">
                <Button x:Name="CancelButton" Style="{StaticResource CancelButtonStyle}" 
                        Content="Cancel" Margin="0,0,8,0" Click="CancelButton_Click"/>
                <Button x:Name="SaveButton" Style="{StaticResource ActionButtonStyle}" 
                        Content="Save View" Click="SaveButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
